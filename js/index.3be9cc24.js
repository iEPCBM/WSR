(function(){"use strict";var e={8042:function(e,r,t){var n=t(9242),i=t(3396),a=t(7139);const o=e=>((0,i.dD)("data-v-587fe0e2"),e=e(),(0,i.Cn)(),e),s={class:"content"},c=o((()=>(0,i._)("h1",{class:"page-title"},"Web screen record service",-1))),d={class:"content-wrapper"},u={class:"setup-block"},l={class:"btn-group"},p={class:"btn-holder"},f={class:"btn-holder"},v={class:"btn-group"},h={class:"btn-holder"},b=["href","download"],_=o((()=>(0,i._)("div",{class:"preview-wrapper"},[(0,i._)("h2",null,"Preview"),(0,i._)("video",{id:"vpreview",class:"preview",autoplay:""})],-1)));function w(e,r,t,n,o,w){const m=(0,i.up)("WHeader"),g=(0,i.up)("WBroadcastSetup");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(m),(0,i._)("div",s,[c,(0,i._)("div",d,[(0,i._)("div",u,[(0,i.Wm)(g,{ref:"setup"},null,512),(0,i._)("div",l,[(0,i._)("div",p,[(0,i._)("a",{href:"#",onClick:r[0]||(r[0]=e=>w.startCapture()),class:"btn"},"Capture screen")]),(0,i._)("div",f,[(0,i._)("a",{href:"#",onClick:r[1]||(r[1]=e=>o.isCapture?w.stopCapture():null),class:"btn btn-red"},"Stop capture")])]),(0,i._)("div",v,[(0,i._)("div",h,[(0,i._)("a",{href:"#",class:(0,a.C_)(["btn",o.isCapture?(o.isRecording,"btn-red"):"disabled "]),onClick:r[2]||(r[2]=e=>o.isCapture?w.startRecord():null)},(0,a.zw)(o.isRecording?"Stop recording":"Start recording"),3)]),""!=o.videoUrl?((0,i.wg)(),(0,i.iD)("a",{key:0,href:o.videoUrl,download:e.$refs.setup.$refs.filename.value},"Download video!",8,b)):(0,i.kq)("",!0)])]),_])])],64)}t(7658);const m=e=>((0,i.dD)("data-v-74f6675c"),e=e(),(0,i.Cn)(),e),g=m((()=>(0,i._)("a",{class:"logo",href:"#"},"WSR",-1))),y=m((()=>(0,i._)("ul",{class:"nav-menu"},[(0,i._)("li",null,[(0,i._)("a",{href:"#"},"About")])],-1))),k=[g,y];function O(e,r,t,n,a,o){return(0,i.wg)(),(0,i.iD)("header",null,k)}var C={name:"WHeader"},R=t(89);const j=(0,R.Z)(C,[["render",O],["__scopeId","data-v-74f6675c"]]);var x=j;const S=e=>((0,i.dD)("data-v-7ad3e10b"),e=e(),(0,i.Cn)(),e),D={class:"broadcast-setup-wrapper"},W=S((()=>(0,i._)("h2",null,"Settings",-1))),B={class:"field"},M=S((()=>(0,i._)("label",{for:"i-audio"},"Record audio: ",-1))),I={ref:"audio",class:"input-checkbox",id:"i-audio",type:"checkbox",checked:""},U={class:"field"},$=S((()=>(0,i._)("label",{for:"i-cursor"},"Show cursor: ",-1))),E={ref:"cursor",class:"input-checkbox",id:"i-cursor",type:"checkbox",checked:""},H={class:"field"},P=S((()=>(0,i._)("label",{for:"i-filename"},"Save to: ",-1))),T={ref:"filename",class:"input-text",id:"i-filename",type:"text",value:"record.mp4"};function Z(e,r,t,n,a,o){return(0,i.wg)(),(0,i.iD)("div",D,[W,(0,i._)("div",B,[M,(0,i._)("input",I,null,512)]),(0,i._)("div",U,[$,(0,i._)("input",E,null,512)]),(0,i._)("div",H,[P,(0,i._)("input",T,null,512)])])}var A={name:"WBroadcastSetup"};const L=(0,R.Z)(A,[["render",Z],["__scopeId","data-v-7ad3e10b"]]);var q=L,z={name:"App",components:{WHeader:x,WBroadcastSetup:q},data(){return{displayMediaOptions:{video:{displaySurface:"window",cursor:"always"},audio:!0},isCapture:!1,mediaRecorder:[],chunks:[],isRecording:!1,videoUrl:""}},methods:{updateOptions(){this.displayMediaOptions.audio=this.$refs.setup.$refs.audio.checked,this.displayMediaOptions.video.cursor=this.$refs.setup.$refs.cursor.checked?"always":"never"},async startCapture(){this.updateOptions();const e=document.getElementById("vpreview");try{e.srcObject=await navigator.mediaDevices.getDisplayMedia(this.displayMediaOptions),this.isCapture=!0}catch(r){console.error(r)}},stopCapture(){const e=document.getElementById("vpreview");let r=e.srcObject.getTracks();r.forEach((e=>e.stop())),e.srcObject=null,this.isCapture=!1},startRecord(){if(this.isRecording)this.mediaRecorder.stop(),this.isRecording=!1;else{const r=document.getElementById("vpreview");this.mediaRecorder=new MediaRecorder(r.srcObject),this.mediaRecorder.start();var e=this;this.mediaRecorder.ondataavailable=function(r){e.chunks.push(r.data)},this.mediaRecorder.onstop=function(){var r=new Blob(e.chunks,{type:"video/mp4; codecs=mpeg4,vorbis"});e.chunks=[],e.videoUrl=window.URL.createObjectURL(r)},this.isRecording=!0}}}};const F=(0,R.Z)(z,[["render",w],["__scopeId","data-v-587fe0e2"]]);var Y=F;(0,n.ri)(Y).mount("#app")}},r={};function t(n){var i=r[n];if(void 0!==i)return i.exports;var a=r[n]={exports:{}};return e[n].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(r,n,i,a){if(!n){var o=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],a=e[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&a||o>=a)&&Object.keys(t.O).every((function(e){return t.O[e](n[c])}))?n.splice(c--,1):(s=!1,a<o&&(o=a));if(s){e.splice(u--,1);var d=i();void 0!==d&&(r=d)}}return r}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,i,a]}}(),function(){t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,{a:r}),r}}(),function(){t.d=function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){var e={826:0};t.O.j=function(r){return 0===e[r]};var r=function(r,n){var i,a,o=n[0],s=n[1],c=n[2],d=0;if(o.some((function(r){return 0!==e[r]}))){for(i in s)t.o(s,i)&&(t.m[i]=s[i]);if(c)var u=c(t)}for(r&&r(n);d<o.length;d++)a=o[d],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(u)},n=self["webpackChunkweb_broadcast_service"]=self["webpackChunkweb_broadcast_service"]||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(8042)}));n=t.O(n)})();
//# sourceMappingURL=index.3be9cc24.js.map